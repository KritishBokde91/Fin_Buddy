{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file://C%3A/webstie%20porjects/JIT%20Hackathon/client/src/app/spending/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { ArrowBigRightDash } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport axios from \"axios\";\r\n\r\nfunction Page() {\r\n  const [img, setImg] = useState(null);\r\n  const [spendings, setSpendings] = useState([]); // Store fetched spendings\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const router = useRouter();\r\n  const finBuddyRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const storedImg = localStorage.getItem(\"photo\");\r\n    setImg(storedImg);\r\n\r\n    const user = localStorage.getItem(\"user\");\r\n    if (!user) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [router]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.post(\"http://10.50.0.89:8888/api/spendings/\", {\r\n          user_uid: \"PkrrbhFWbGPISmVAGivoCYpsuGb2\",\r\n        });\r\n\r\n        console.log(\"Response Data:\", response.data);\r\n        setSpendings(response.data.spendings || []); // Assuming the data has a \"spendings\" array\r\n      } catch (err) {\r\n        console.error(\"Error fetching data:\", err);\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"h-screen w-full text-blue-600\">\r\n      {/* Navbar */}\r\n      <nav className=\"fixed top-0 h-20 w-full flex items-center justify-between px-10 gap-10\">\r\n        <div>\r\n          <h1 className=\"text-3xl\">FinBuddy</h1>\r\n        </div>\r\n        <div className=\"flex gap-10 items-center justify-center\">\r\n          <Link href=\"/dashboard\">\r\n            <h1 className=\"cursor-pointer\">Home</h1>\r\n          </Link>\r\n          <Link href=\"/spending\">\r\n            <h1>Spendings</h1>\r\n          </Link>\r\n          <Link href=\"/forecast\">\r\n            <h1>Forecast</h1>\r\n          </Link>\r\n          <Link href=\"/\">\r\n            <h1>Suggestion</h1>\r\n          </Link>\r\n          <div className=\"h-10 w-10 rounded-full overflow-hidden\">\r\n            <img src={img || \"\"} alt=\"User\" />\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Spendings Section */}\r\n      <div className=\"h-full w-full py-20 px-10\">\r\n        <h1 className=\"text-5xl text-blue-600 flex items-center gap-1\">\r\n          Spendings\r\n          <ArrowBigRightDash size={70} />\r\n        </h1>\r\n\r\n        {/* Show Loading or Error */}\r\n        {loading ? (\r\n          <p className=\"text-xl mt-5\">Loading spendings...</p>\r\n        ) : error ? (\r\n          <p className=\"text-red-500 mt-5\">Error: {error}</p>\r\n        ) : (\r\n          <div className=\"h-[30rem] w-full rounded-3xl mt-2 border-2\">\r\n            <div className=\"p-3 flex rounded-t-3xl bg-gray-200 font-bold\">\r\n              <div className=\"w-1/4 border-r-2 px-4\">Description</div>\r\n              <div className=\"w-1/4 border-r-2 px-4\">Date</div>\r\n              <div className=\"w-1/4 border-r-2 px-4\">₹Amount</div>\r\n              <div className=\"w-1/4 px-4\">Category</div>\r\n            </div>\r\n\r\n            {/* Dynamically Render Spendings */}\r\n            {spendings.length > 0 ? (\r\n              spendings.map((item, index) => (\r\n                <div\r\n                  key={index}\r\n                  className=\"p-3 flex border-b-2 border-gray-300 bg-white hover:bg-gray-100\"\r\n                >\r\n                  <div className=\"w-1/4 border-r-2 px-4\">{item.description}</div>\r\n                  <div className=\"w-1/4 border-r-2 px-4\">{item.date}</div>\r\n                  <div className=\"w-1/4 border-r-2 px-4\">₹{item.amount}</div>\r\n                  <div className=\"w-1/4 px-4\">{item.category}</div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"p-5 text-center text-gray-500\">No spendings found.</p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}